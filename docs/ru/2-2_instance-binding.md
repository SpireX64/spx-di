# 2.2 Привязка по значению
Контейнер управлять зависимостями основываясь на привязках.
Они определяются во время конфигурации контейнера.

Самый простой тип привязки это *привязка по значению*.

## Когда использовать?

Привязка по значению используется, когда компонент отвечает следующим критериям:
1. Его экземпляр уже создан вне контейнера
2. Он не требует зависимостей
3. Он должен быть доступным по всем приложении

То есть у нас есть уже самодостаточное значение.
Например, это может быть строка или число.
Или это объект с данными конфигурации какого-либо сервиса.

Этот объект не изменяемый и при этом доступ к нему
нужен в любой части приложения.

## Выполнение привязки по значению

Привязка по значению выполняется с помощью метода сборщика `bindInstance`:

```ts
declare function bindInstance(type: TypeKey, instance: Type, options?: TBindingOptions)
```
где,
- `type` - ключ типа, к которому выполняется привязка
- `instance` - значение, которое привязывается
- `options` - дополнительные опции привязки

## Пример использования
Нужно предоставить API-ключ от сервиса "Service".
Для этого используем такую конфигурацию:
```ts
const Types = {
    ApiKey: Symbol('ApiKey'),
    // ...
}

type TypeMap = {
    [Types.ApiKey]: string;
    // ...
}

DIContainer.builder<TypeMap>()
    .bindInstance(Types.ApiKey, "Nn2Bs-553FS-V5Fs5-HJ8426cdD")
    // ...
    .build()
```

В результате привязки, по требованию сервиса,
мы можем предоставить ему API-ключ с помощью контейнера.

## Singleton
Да, привязка по значению это реализация паттерна Singleton.
Который обеспечивает наличие только одного экземпляра этого типа в системе.
Экземпляры привязанные этим способом, всегда получают жизненный цикл Singleton.

Это поможет избавиться от глобальных ссылок из конкретных пакетов через импорт.
Теперь предоставлением этих данных будет заниматься контейнер.
Что разрывает прямую связь значения с теми кто его использует.

Теперь не нужно бегать по всему проекту в поисках всех ссылок,
которые ссылаются на это значение.
Достаточно подменить это значение в конфигурации.
